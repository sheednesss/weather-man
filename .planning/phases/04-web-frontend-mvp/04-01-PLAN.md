---
phase: 04-web-frontend-mvp
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - web/package.json
  - web/vite.config.ts
  - web/tsconfig.json
  - web/tailwind.config.ts
  - web/index.html
  - web/src/main.tsx
  - web/src/App.tsx
  - web/src/index.css
  - web/src/lib/wagmi.ts
  - web/src/components/layout/Header.tsx
  - web/src/components/layout/Layout.tsx
  - web/src/pages/Home.tsx
  - web/src/pages/Markets.tsx
  - web/src/pages/Portfolio.tsx
autonomous: true

must_haves:
  truths:
    - "Vite dev server starts without errors"
    - "RainbowKit Connect Wallet button appears"
    - "Wallet connects to Base Sepolia successfully"
    - "Navigation between Home, Markets, Portfolio works"
    - "Layout is responsive on mobile viewport"
  artifacts:
    - path: "web/package.json"
      provides: "Project dependencies"
      contains: "wagmi"
    - path: "web/src/lib/wagmi.ts"
      provides: "Wagmi + RainbowKit configuration"
      exports: ["config"]
    - path: "web/src/App.tsx"
      provides: "Root component with providers"
      contains: "WagmiProvider"
    - path: "web/src/components/layout/Header.tsx"
      provides: "Navigation with wallet button"
      contains: "ConnectButton"
  key_links:
    - from: "web/src/main.tsx"
      to: "web/src/App.tsx"
      via: "React render"
      pattern: "createRoot.*App"
    - from: "web/src/App.tsx"
      to: "web/src/lib/wagmi.ts"
      via: "config import"
      pattern: "import.*config.*wagmi"
---

<objective>
Set up the React frontend project with Vite, configure wallet connection via wagmi/RainbowKit for Base Sepolia, create responsive layout with navigation, and establish routing.

Purpose: Foundation for all trading features - wallet connection is prerequisite for any blockchain interaction
Output: Working web app shell with wallet connection and responsive navigation
</objective>

<execution_context>
@/Users/rasheedelhindi/.claude/get-shit-done/workflows/execute-plan.md
@/Users/rasheedelhindi/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/04-web-frontend-mvp/04-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Vite React project with Web3 dependencies</name>
  <files>
    web/package.json
    web/vite.config.ts
    web/tsconfig.json
    web/tailwind.config.ts
    web/index.html
    web/src/main.tsx
    web/src/index.css
  </files>
  <action>
Create new `web/` directory at project root. Initialize with:

```bash
cd /path/to/project
npm create vite@latest web -- --template react-ts
cd web
npm install wagmi viem@2.x @tanstack/react-query @rainbow-me/rainbowkit
npm install react-router-dom
npm install -D tailwindcss @tailwindcss/vite
```

Configure vite.config.ts with Tailwind v4 plugin:
```typescript
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'
import tailwindcss from '@tailwindcss/vite'

export default defineConfig({
  plugins: [react(), tailwindcss()],
  resolve: {
    alias: {
      '@': '/src',
    },
  },
})
```

Update tsconfig.json paths for @ alias.

Set up index.css with Tailwind v4:
```css
@import "tailwindcss";
```

Create minimal main.tsx that renders App.

Note: Use Tailwind v4 with Vite plugin (not PostCSS). Do NOT use shadcn init yet - we'll add components manually as needed to avoid bloat.
  </action>
  <verify>
```bash
cd web && npm run dev
# Should start on localhost:5173 without errors
```
  </verify>
  <done>Vite dev server starts, shows default React page, Tailwind classes work</done>
</task>

<task type="auto">
  <name>Task 2: Configure wagmi and RainbowKit for Base Sepolia</name>
  <files>
    web/src/lib/wagmi.ts
    web/src/App.tsx
  </files>
  <action>
Create web/src/lib/wagmi.ts:
```typescript
import { getDefaultConfig } from '@rainbow-me/rainbowkit'
import { baseSepolia } from 'wagmi/chains'
import { http } from 'wagmi'

export const config = getDefaultConfig({
  appName: 'Weather Man',
  projectId: import.meta.env.VITE_WALLETCONNECT_PROJECT_ID || 'demo',
  chains: [baseSepolia],
  transports: {
    [baseSepolia.id]: http(import.meta.env.VITE_BASE_SEPOLIA_RPC),
  },
})
```

Update App.tsx with providers in correct order:
```typescript
import { WagmiProvider } from 'wagmi'
import { QueryClient, QueryClientProvider } from '@tanstack/react-query'
import { RainbowKitProvider } from '@rainbow-me/rainbowkit'
import { BrowserRouter } from 'react-router-dom'
import '@rainbow-me/rainbowkit/styles.css'
import { config } from './lib/wagmi'

const queryClient = new QueryClient()

function App() {
  return (
    <WagmiProvider config={config}>
      <QueryClientProvider client={queryClient}>
        <RainbowKitProvider>
          <BrowserRouter>
            {/* Routes will go here */}
          </BrowserRouter>
        </RainbowKitProvider>
      </QueryClientProvider>
    </WagmiProvider>
  )
}
```

Create web/.env.example with:
```
VITE_WALLETCONNECT_PROJECT_ID=your_project_id
VITE_BASE_SEPOLIA_RPC=https://sepolia.base.org
```

Note: WalletConnect projectId can be "demo" for local dev. User can register at cloud.walletconnect.com for production.
  </action>
  <verify>
App renders without provider errors in console. ConnectButton from RainbowKit renders (add temporarily to App.tsx to test).
  </verify>
  <done>WagmiProvider, QueryClientProvider, RainbowKitProvider wrap app. No console errors about missing providers.</done>
</task>

<task type="auto">
  <name>Task 3: Create responsive layout and routing</name>
  <files>
    web/src/components/layout/Header.tsx
    web/src/components/layout/Layout.tsx
    web/src/pages/Home.tsx
    web/src/pages/Markets.tsx
    web/src/pages/Portfolio.tsx
    web/src/App.tsx
  </files>
  <action>
Create Header.tsx with:
- Logo/app name linking to home
- Navigation links: Markets, Portfolio
- RainbowKit ConnectButton on right
- Mobile: hamburger menu for nav, ConnectButton always visible
- Use Tailwind responsive classes (flex, hidden md:flex, etc.)

Create Layout.tsx wrapper:
- Header at top
- Main content area with responsive padding
- Footer optional (can be minimal)

Create placeholder pages:
- Home.tsx: Hero with tagline "Stake on weather predictions", CTA to browse markets
- Markets.tsx: "Markets" heading, placeholder for market list
- Portfolio.tsx: "Portfolio" heading, placeholder for positions

Update App.tsx routes:
```typescript
<Routes>
  <Route path="/" element={<Layout />}>
    <Route index element={<Home />} />
    <Route path="markets" element={<Markets />} />
    <Route path="portfolio" element={<Portfolio />} />
  </Route>
</Routes>
```

Styling guidelines:
- Max width container (max-w-7xl mx-auto)
- Responsive padding (px-4 sm:px-6 lg:px-8)
- Header sticky with backdrop blur
- Mobile-first: test at 375px viewport
  </action>
  <verify>
```bash
cd web && npm run dev
# Visit localhost:5173
# 1. Connect Wallet button visible on all pages
# 2. Navigation between /, /markets, /portfolio works
# 3. Resize to mobile (375px) - hamburger menu works
```
  </verify>
  <done>Layout renders on all routes. Navigation works. ConnectButton visible on mobile and desktop. Layout adapts to viewport size.</done>
</task>

</tasks>

<verification>
1. `cd web && npm run dev` starts without errors
2. Visit http://localhost:5173 - app loads
3. Click "Connect Wallet" - RainbowKit modal opens
4. Connect with test wallet - shows connected address
5. Navigate to /markets, /portfolio - pages render
6. Resize browser to mobile width - layout adapts, menu works
</verification>

<success_criteria>
- [ ] Vite dev server runs on localhost:5173
- [ ] RainbowKit Connect Wallet button appears and opens modal
- [ ] Can connect wallet to Base Sepolia
- [ ] Navigation between Home/Markets/Portfolio works
- [ ] Layout is responsive (mobile menu, responsive padding)
- [ ] No console errors in browser dev tools
</success_criteria>

<output>
After completion, create `.planning/phases/04-web-frontend-mvp/04-01-SUMMARY.md`
</output>
